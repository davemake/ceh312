<ion-header>
	<ion-navbar>
		<button ion-button menuToggle>
			<ion-icon name="menu"></ion-icon>
		</button>
		<ion-title text-wrap>
			<span *ngIf="user">
				SIGNED-IN: {{user.email}}
				<span *ngIf="user.emailVerified">
					(verified)
				</span>
			</span>
			<span *ngIf="!user">
				<span *ngIf="signinMode">
					Please Signin
				</span>
				<span *ngIf="signupMode">
					Please Signup
				</span>
			</span>
		</ion-title>
	</ion-navbar>
</ion-header>

<ion-content no-padding text-center>
	
	<div *ngIf="user">
		Email: {{user.email}}
		<div *ngIf="user.emailVerified">
			Verified: YES
		</div>
		<div *ngIf="!user.emailVerified">
			Verified: NO
		</div>
		<button ion-button (click)="signout()">logout</button>
		<button ion-button (click)="destroy()">destroy</button>
	</div>
	<div *ngIf="!user">
		<div *ngIf="signinMode">
			
			<button ion-button disabled (click)="setMode('signin')">signin</button>
			<button ion-button small (click)="setMode('signup')">signup</button>
			<ion-list>
				<ion-item>
					<ion-label floating>Email</ion-label>
					<ion-input type="email" [(ngModel)]="email"></ion-input>
				</ion-item>
				<ion-item>
					<ion-label floating>Password</ion-label>
					<ion-input type="password" [(ngModel)]="password"></ion-input>
				</ion-item>
			</ion-list>

			<div padding>
				<div *ngIf="(email && password)">
					<button ion-button block large (click)="signin()">signin</button>
				</div>
				<div *ngIf="!(email && password)">
					<button ion-button block small disabled>signin</button>
				</div>
			</div>
		</div>
		<div *ngIf="signupMode">
			
			<button ion-button small (click)="setMode('signin')">signin</button>
			<button ion-button disabled (click)="setMode('signup')">signup</button>
			<div *ngIf="!role">

				<ion-list>
					<ion-list-header>
					</ion-list-header>
					<ion-item>
						<button ion-button full round large (click)="setRole('student')">student</button>
					</ion-item>
					<ion-item>
						<button ion-button full round large (click)="setRole('host')">host family</button>
					</ion-item>
					<ion-item>
						<button ion-button full round large (click)="setRole('volunteer')">volunteer</button>
					</ion-item>
				</ion-list>

			</div>

			<div *ngIf="role">

				<ion-list>
					<ion-list-header>
						<h1 text-uppercase>
							{{role}}
						</h1>
						<h2>
							Please Enter Your Email & Password:
						</h2>
					</ion-list-header>
					<ion-item>
						<ion-label floating>Email</ion-label>
						<ion-input type="email" [(ngModel)]="email"></ion-input>
					</ion-item>
					<ion-item>
						<ion-label floating>Password</ion-label>
						<ion-input type="password" [(ngModel)]="password"></ion-input>
					</ion-item>
				</ion-list>
		
				<div padding *ngIf="role">
					<div *ngIf="(email && password)">
						<button ion-button block large (click)="signup()">signup</button>
					</div>
					<div *ngIf="!(email && password)">
						<button ion-button block small disabled>signup</button>
					</div>
				</div>

			</div>
		</div>
	</div>

</ion-content>
